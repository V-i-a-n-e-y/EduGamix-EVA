<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduGamix -Seleccionar Modo de Juego</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f0e9;
        }
        header {
            background-color: #333;
            color: #fbfbfb;
            padding: 10px 20px;
            text-align: center;
        }
        .user-section {
            margin-top: 10px;
            font-size: 16px;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px;
        }
        button {
            padding: 15px 30px;
            margin: 10px;
            font-size: 16px;
            color: white;
            background-color: #d76a1b;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #d76a1c;
        }
    </style>
</head>
<body>

<header>
    <h1>Selección de Modo de Juego</h1>
    <div class="user-section">
        <span id="username">No registrado</span> |
        <span id="useremail">No registrado</span>
    </div>
</header>

<div class="container">
    <h2>Selecciona un Modo de Juego:</h2>
    <button onclick="startGame('practica')">Práctica (tiempo indefinido)</button>
    <button onclick="startGame('desafio')">Desafío (5 minutos)</button>
    <button onclick="startGame('supervivencia')">Supervivencia (3 minutos)</button>
</div>

<script>
    // Cargar el nombre de usuario y correo desde localStorage
    document.addEventListener("DOMContentLoaded", function() {
        const username = localStorage.getItem("username");
        const useremail = localStorage.getItem("useremail");
        
        if (username) {
            document.getElementById("username").textContent = `Usuario: ${username}`;
        }

        if (useremail) {
            document.getElementById("useremail").textContent = `Email: ${useremail}`;
        }
    });

    function startGame(mode) {
        let timer;
        let timerInterval;

        if (mode === 'practica') {
            alert('Modo Práctica seleccionado. ¡Buena suerte!');
            // Aquí puedes redirigir a la página del juego o inicializarlo de otra manera.
            window.location.href = 'nivel 1 juego1.html';
        } else if (mode === 'desafio') {
            timer = 300; // 5 minutos
            startTimer(timer);
        } else if (mode === 'supervivencia') {
            timer = 180; // 3 minutos
            startTimer(timer);
        }
    }

    function startTimer(duration) {
        let timerDisplay = document.createElement('div');
        timerDisplay.style.fontSize = '22px';
        timerDisplay.style.marginTop = '20px';
        document.body.appendChild(timerDisplay);
        
        let minutes, seconds;
        timerInterval = setInterval(function() {
            minutes = Math.floor(duration / 60);
            seconds = duration % 60;

            timerDisplay.innerHTML = `TIEMPO: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

            if (--duration < 0) {
                clearInterval(timerInterval);
                alert('¡Tiempo Expirado!'); // Aquí puedes manejar lo que suceda cuando se acabe el tiempo.
            }
        }, 1000);
    }
</script>

</body>
</html>
