<!DOCTYPE html>
<html lang="es">
<link rel="icon" href="img/icono.jpg" type="image.jpg">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduGamix</title>
    <link rel="stylesheet" href="nivel 4.css">
</head>
<body>
    <!-- Encabezado -->
    <header>
        <div class="logo">
            <a href="index.html" target="_blank">
                <img src="img/EduGamix.jpg" alt="EduGamix Logo" height="150">
                
            </a>
        </div>
        <h1>Nivel 4</h1>
        <div class="user-info">
            <span class="icon" title="Notificaciones" onclick="alert('Notificaciones');">🔔</span>
            <span class="icon" title="Difusión" onclick="window.location.href='ini2.html';">📢</span>
            <span class="icon" title="Inicio" onclick="window.location.href='inicio.html';">🏠</span>
            <div class="user-info">
                <i class="fas fa-user-circle" style="font-size: 24px; margin-right: 8px;"></i>
                <span id="username">Nombre de Usuario</span> | <span id="useremail">correo@ejemplo.com</span>
                <a class="logout-link" title="Cerrar sesión" onclick="logout()">Cerrar sesión</a>
            </div>
            <span class="icon" title="Perfil" onclick="window.location.href='miespacio.html';">👤</span>
        </div>
    </header>



    </div>
    <div class="content">
        <p id="texto1">Bienvenido al emocionante juego de Cuestionando las soluciones, en donde tendrás que enfrentarte al gran villano matemático de EduGamix, ¡Radicux! Quien cuestionara tus conocimientos. Sigue las instrucciones para jugar y divertirte mientras refuerzas tus conocimientos. ¡Éxito!</p> 
        <p id="texto3">Instrucciones: Gami será tu guía durante los niveles del juego, el narrará las actividades.
        <p id="texto4">1. Escucha a Radicux, ¡si sorprendente!: El leerá una serie de preguntas en voz alta además de presentarlo visualmente</p>
        <p id="texto5">2. Selecciona la casilla o casillas: Deberás identificar qué respuesta o respuestas son las correctas.</p>      
        <p id="texto6">3. Oprime siguiente: Al tener tus respuestas correctas pasa a las siguientes preguntas.</p>         
        <p id="texto7">Reglas Adicionales:
        <p id="texto8">Verifica tu Trabajo: Asegúrate de que tus respuestas sean correctas.
        <p id="texto9">Participa Activamente: No dejes pasar mucho tiempo, por cada error te quitara tiempo Radicux. 
        <p id="texto10">Pide Ayuda si la Necesitas: No dudes en pedir una pista a “Xilo” si te quedas atascado.</p>
        <button onclick="window.location.href='modo juego n4.html'; detenerNarracion();">Siguiente</button>
        <button onclick="window.location.href='inicio.html'">Regresar a Inicio</button>
    </div>
   
    <div class="main-container">
        <div id="avatar-animation">
            <img id="gami-avatar" src="img/gami.jpg" alt="Avatar de Gami" style="height: 150px;">
        </div>

        <div class="controls">
            <button id="repeatButton" onclick="leerContenido()">Repetir</button>
            <button id="muteButton" onclick="toggleMute()">Silenciar</button>
        </div>
    </div>

    <script>
        let isMuted = false;
        let currentSpeech = null;

        // Detener narración
        function detenerNarracion() {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
            }
        }

        // Leer contenido con narración
        function leerContenido() {
            detenerNarracion(); // Asegurar que no haya narración activa
            const textos = document.querySelectorAll(".content p");
            textos.forEach((parrafo, index) => {
                setTimeout(() => {
                    narrarTexto(parrafo.innerText);
                }, index * 5000); // Retraso ajustado para cada párrafo
            });
        }

        // Narrar texto
        function narrarTexto(texto) {
            if (isMuted) return;
            currentSpeech = new SpeechSynthesisUtterance(texto);
            currentSpeech.lang = "es-ES";
            currentSpeech.rate = 1;
            currentSpeech.onend = () => console.log("Narración terminada.");
            window.speechSynthesis.speak(currentSpeech);
        }

        // Alternar silencio
        function toggleMute() {
            isMuted = !isMuted;
            detenerNarracion();
            document.getElementById("muteButton").innerText = isMuted ? "Activar Sonido" : "Silenciar";
        }

        // Detener narración al salir de la página
        window.addEventListener('beforeunload', detenerNarracion);

        // Iniciar lectura al cargar
        document.addEventListener("DOMContentLoaded", leerContenido);
    </script>

    <script src="nivel 4.js"></script>
</body>
</html>
